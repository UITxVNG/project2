[gd_scene load_steps=16 format=4 uid="uid://b8xtnlnaesycu"]

[ext_resource type="TileSet" uid="uid://c8m8q0fe452q3" path="res://assets/tilesets/tile_set.tres" id="1_swvec"]
[ext_resource type="PackedScene" uid="uid://cr06n1w1va6i8" path="res://scenes/player/player.tscn" id="2_uce0e"]
[ext_resource type="PackedScene" uid="uid://0ynutkwlhlce" path="res://scenes/objects/platforms/path2d_moving_platform.tscn" id="3_uce0e"]
[ext_resource type="PackedScene" uid="uid://b3ol3sy3kji1p" path="res://scenes/objects/buffitems/blade/blade.tscn" id="4_bfh0m"]
[ext_resource type="Script" uid="uid://biifwbdlftxa0" path="res://scripts/enemy_counter.gd" id="4_counter"]
[ext_resource type="PackedScene" uid="uid://cjgvg81b80ge4" path="res://scenes/enemies/starfish/starfish.tscn" id="5_starfish"]
[ext_resource type="PackedScene" uid="uid://cbsa8w2lp8433" path="res://scenes/enemies/crab/crab.tscn" id="6_crab"]
[ext_resource type="PackedScene" uid="uid://b8dad0e1f2g3h" path="res://scenes/objects/rotating_saw/rotating_saw.tscn" id="8_q8grv"]
[ext_resource type="Texture2D" uid="uid://cls86cin7xdad" path="res://assets/tilesets/Forest Pass/PNG/bgcolor.png" id="9_r031e"]
[ext_resource type="Texture2D" uid="uid://b5yvxmbo3o6i7" path="res://assets/tilesets/Forest Pass/PNG/Tlayer1.png" id="10_8j4e5"]
[ext_resource type="Texture2D" uid="uid://drj2pgmb3p21p" path="res://assets/tilesets/Forest Pass/PNG/Tlayer2.png" id="11_frv1d"]
[ext_resource type="Texture2D" uid="uid://fe7aprsmyft1" path="res://assets/tilesets/Forest Pass/PNG/Tlayer3.png" id="12_5xhko"]

[sub_resource type="Curve2D" id="Curve2D_2ljyo"]
bake_interval = 349.51
_data = {
"points": PackedVector2Array(0, 0, 0, 0, 0, 20, 0, 0, 0, 0, -2, -468)
}
point_count = 2

[sub_resource type="Curve2D" id="Curve2D_q8grv"]
bake_interval = 52.85
_data = {
"points": PackedVector2Array(0, 0, 0, 0, 0, 20, 0, 0, 0, 0, -2, -128)
}
point_count = 2

[sub_resource type="Curve2D" id="Curve2D_r031e"]
bake_interval = 217.59
_data = {
"points": PackedVector2Array(0, 0, 0, 0, 4, -1, 0, 0, 0, 0, -140, 3, 0, 0, 0, 0, 4, 0)
}
point_count = 3

[node name="Stage" type="Node2D"]

[node name="TileMapLayer" type="TileMapLayer" parent="."]
position = Vector2(-1, 0)
tile_map_data = PackedByteArray("AAAQAA8ABQACAAUAAAARAA8ABQACAAUAAAASAA8ABQACAAUAAAATAA8ABQACAAUAAAAUAA8ABQACAAUAAAAVAA8ABQACAAUAAAAWAA8ABQACAAUAAAAXAA8ABQACAAUAAAAYAA8ABQACAAYAAAAPAA8ABQACAAUAAAAOAA8ABQACAAUAAAANAA8ABQACAAUAAAAOAAwABQACAAYAAAAMAA8ABQABAAYAAAAMAA4ABQABAAYAAAAMAA0ABQABAAYAAAAMAAwABQABAAYAAAAMAAsABQABAAYAAAAMAAoABQABAAYAAAAMAAkABQABAAYAAAAMAAgABQABAAYAAAAMAAcABQABAAYAAAAMAAYABQABAAYAAAAMAAUABQABAAYAAAAMAAQABQABAAYAAAAMAAMABQABAAYAAAAMAAIABQABAAYAAAAMAAEABQABAAYAAAAMAAAABQABAAYAAAAMAP//BQABAAYAAAAYABAABQACAAYAAAAYABEABQACAAYAAAAYABIABQACAAYAAAAYABMABQACAAYAAAAYABkABQACAAYAAAAZABkABQACAAYAAAAaABkABQACAAYAAAAbABkABQACAAYAAAAcABkABQACAAYAAAApABkABQACAAYAAAAqABkABQACAAYAAAArABkABQACAAYAAAAsABkABQACAAUAAAAtABkABQACAAUAAAAuABkABQACAAUAAAAvABkABQACAAYAAAAPAAgABQACAAUAAAAOAAgABQACAAUAAAANAAgABQACAAUAAAANAAwABQACAAYAAAAwABkABQACAAYAAAAwABgABQADAAYAAAAwABcABQADAAYAAAAwABYABQADAAYAAAAwABUABQADAAYAAAAwABQABQADAAYAAAAwABMABQADAAYAAAAwABIABQADAAYAAAAwABEABQADAAYAAAAwABAABQADAAYAAAAwAA8ABQADAAYAAAAwAA4ABQADAAYAAAAwAA0ABQADAAYAAAAwAAwABQADAAYAAAAwAAsABQADAAYAAAAwAAoABQADAAYAAAAwAAkABQADAAYAAAAwAAgABQADAAYAAAAwAAcABQADAAYAAAAwAAYABQADAAYAAAAwAAUABQADAAYAAAAwAAIABQADAAYAAAAwAAEABQADAAYAAAAwAAAABQADAAYAAAAwAP//BQADAAYAAAAwAAMABQADAAYAAAAwAAQABQADAAYAAAAwAP7/BQADAAUAAAAMAP7/BQABAAUAAAANAP7/BQACAAUAAAAOAP7/BQACAAUAAAAPAP7/BQACAAUAAAAQAP7/BQACAAUAAAARAP7/BQACAAUAAAASAP7/BQACAAUAAAATAP7/BQACAAUAAAAUAP7/BQACAAUAAAAVAP7/BQACAAUAAAAWAP7/BQACAAUAAAAXAP7/BQACAAUAAAAYAP7/BQACAAUAAAAZAP7/BQACAAUAAAAaAP7/BQACAAUAAAAbAP7/BQACAAUAAAAcAP7/BQACAAUAAAAdAP7/BQACAAUAAAAeAP7/BQACAAUAAAAfAP7/BQACAAUAAAAgAP7/BQACAAUAAAAhAP7/BQACAAUAAAAiAP7/BQACAAUAAAAjAP7/BQACAAUAAAAkAP7/BQACAAUAAAAlAP7/BQACAAUAAAAmAP7/BQACAAUAAAAnAP7/BQACAAUAAAAoAP7/BQACAAUAAAApAP7/BQACAAUAAAAqAP7/BQACAAUAAAArAP7/BQACAAUAAAAsAP7/BQACAAUAAAAtAP7/BQACAAUAAAAuAP7/BQACAAUAAAAvAP7/BQACAAUAAAATAAoABQACAAUAAAAUAAoABQACAAUAAAAVAAoABQACAAUAAAAWAAoABQACAAUAAAAYAAQABQACAAYAAAAYAAYABQACAAYAAAAYAAcABQACAAYAAAAYAAgABQACAAYAAAAYAAkABQACAAYAAAAYAAoABQACAAYAAAAYAAsABQACAAYAAAAYAAwABQACAAYAAAAYAA0ABQACAAYAAAAYAA4ABQACAAYAAAAXAAoABQACAAUAAAAUAA4AAQAAAAAABAAXAA4ABQADAAIAAAAWAA4ABQADAAIAAAAVAA4ABQADAAIAAAAXABkABQACAAYAAAAWABkABQACAAYAAAAVABkABQACAAYAAAAUABkABQACAAYAAAATABkABQACAAYAAAASABkABQACAAYAAAARABkABQACAAYAAAAQABkABQACAAYAAAAPABkABQACAAYAAAAOABkABQACAAYAAAANABkABQACAAYAAAANABgABQACAAYAAAAMABgABQABAAYAAAAMABAABQABAAYAAAAMABEABQABAAYAAAAMABIABQABAAYAAAAMABMABQABAAYAAAAMABQABQABAAYAAAAMABcABQABAAYAAAAMABkABQABAAYAAAAMABYABQABAAYAAAAMABUABQABAAYAAAAWABgABQACAAUAAAAVABgABQACAAUAAAAUABgABQACAAYAAAAUABcABQACAAUAAAATABcABQACAAYAAAATABYABQACAAUAAAASABYABQACAAUAAAARABYABQACAAUAAAAQABYABQACAAYAAAAQABUABQACAAUAAAAPABUABQACAAUAAAAOABUABQACAAUAAAANABUABQACAAUAAAATABgABQACAAYAAAASABgABQACAAYAAAASABcABQACAAYAAAARABcABQACAAYAAAAQABcABQACAAYAAAAQABgABQACAAYAAAAPABgABQACAAYAAAAOABgABQACAAYAAAARABgABQACAAYAAAAPABcABQACAAYAAAAOABcABQACAAYAAAAOABYABQACAAYAAAANABYABQACAAYAAAANABcABQACAAYAAAAPABYABQACAAYAAAAPABQAAwAAAAAAAgAXAAkABQABAAYAAAAsAAQABQACAAYAAAAtAAQABQACAAYAAAAsAAMABQACAAUAAAAtAAMABQACAAUAAAAZAA8ABQACAAUAAAAaAA8ABQACAAYAAAAbAA8ABQACAAUAAAAcAA8ABQACAAUAAAAdAA8ABQACAAUAAAAeAA8ABQACAAUAAAAfAA8ABQACAAUAAAAgAA8ABQACAAUAAAAhAA8ABQACAAUAAAAiAA8ABQACAAUAAAAjAA8ABQACAAUAAAAkAA8ABQACAAUAAAAlAA8ABQACAAUAAAAnAA8ABQACAAUAAAAoAA8ABQACAAUAAAApAA8ABQACAAUAAAAqAA8ABQACAAUAAAArAA8ABQACAAUAAAAsAA8ABQACAAYAAAAtAA8ABQACAAYAAAAkAAMABQACAAUAAAAcAAMABQACAAUAAAAdAAMABQACAAYAAAAYAAMABQACAAUAAAAZAAMABQACAAUAAAAaAAMABQACAAUAAAAbAAMABQACAAUAAAAdAAQABQACAAYAAAAeAAUABQACAAYAAAAkAAQABQACAAYAAAAjAAQABQACAAYAAAAlAAQABQACAAYAAAAdAAUABQACAAYAAAAYAAUABQACAAYAAAAcAAQABQACAAYAAAAbAAQABQACAAYAAAAaAAQABQACAAYAAAAZAAQABQACAAYAAAAsAAIAAgAAAAAACgAsAAUABQACAAYAAAAsAAYABQACAAYAAAAsAAcABQACAAYAAAAsAAgABQACAAYAAAAsAAkABQACAAYAAAAsAAoABQACAAYAAAAsAAsABQACAAYAAAAsAAwABQACAAYAAAAsAA0ABQACAAYAAAAsAA4ABQACAAYAAAAtAAUABQACAAYAAAAtAAYABQACAAYAAAAtAAcABQACAAYAAAAtAAgABQACAAYAAAAtAAkABQACAAYAAAAtAAoABQACAAYAAAAtAAsABQACAAYAAAAtAAwABQACAAYAAAAtAA0ABQACAAYAAAAtAA4ABQACAAYAAAAbAAIAAgAAAAAABgAoAA4AAgAAAAAABgAZAA4AAgAAAAAABgAdAAYABQACAAYAAAAdAAcABQACAAYAAAAdAAgABQACAAYAAAAdAAkABQACAAYAAAAdAAoABQACAAYAAAAdAAsABQACAAYAAAAaAA0ABQACAAUAAAAcAAsABQACAAUAAAAaAAkABQACAAUAAAAcAAcABQACAAUAAAAaAA4ABQACAAYAAAAnAA4AAgAAAAAABgAvABgAAgAAAAAABgArABgABQACAAUAAAAqABgABQACAAYAAAApABgABQACAAYAAAApABcABQACAAYAAAApABYABQACAAUAAAAqABcABQACAAUAAAAaABgABQACAAUAAAAbABgABQACAAYAAAAcABgABQACAAYAAAAcABcABQACAAYAAAAcABYABQACAAUAAAAbABcABQACAAUAAAAoABUABQACAAUAAAAoABYABQACAAYAAAAoABcABQACAAYAAAAoABgABQACAAYAAAAoABkABQACAAYAAAAdABUABQACAAUAAAAdABYABQACAAYAAAAdABcABQACAAYAAAAdABgABQACAAYAAAAdABkABQACAAYAAAAiABUABQAFAAUAAAAjABUABQAGAAUAAAAhABUABQAEAAUAAAAYABQABQACAAYAAAAXABgAAgAAAAAABgAYABgAAgAAAAAABgAZABgAAgAAAAAABgANAA4ABQABAAIAAAAOAA4ABQABAAIAAAAPAA4ABQACAAIAAAAQAA4ABQADAAIAAAARAA4ABQAEAAIAAAASAA4ABQAFAAIAAAATAA4ABQAGAAIAAAAXAAMABQABAAUAAAAXAAQABQABAAYAAAAXAAUABQABAAYAAAAXAAYABQABAAYAAAAXAAcABQABAAYAAAAXAAgABQABAAYAAAAmAA8ABQACAAUAAAAkAA4AAQAAAAAABQAkABAAAgAAAAAABQA=")
tile_set = ExtResource("1_swvec")

[node name="Player" parent="." instance=ExtResource("2_uce0e")]
position = Vector2(524, 472)

[node name="Bullets" type="Node2D" parent="."]

[node name="EnemyCounter" type="Node" parent="."]
script = ExtResource("4_counter")
unlock_node_path = NodePath("../UnlockPlatform")

[node name="Enemies" type="Node2D" parent="."]

[node name="Starfish1" parent="Enemies" instance=ExtResource("5_starfish")]
position = Vector2(956, 465)

[node name="Starfish2" parent="Enemies" instance=ExtResource("5_starfish")]
position = Vector2(1095, 465)

[node name="Crab1" parent="Enemies" instance=ExtResource("6_crab")]
position = Vector2(1177, 466)

[node name="UnlockPlatform" parent="." instance=ExtResource("3_uce0e")]
position = Vector2(1369, 450)
curve = SubResource("Curve2D_2ljyo")

[node name="Blade" parent="." instance=ExtResource("4_bfh0m")]
position = Vector2(911, 220)

[node name="Path2D" parent="." instance=ExtResource("3_uce0e")]
position = Vector2(633, 208)
curve = SubResource("Curve2D_q8grv")

[node name="RotatingSaw" parent="." instance=ExtResource("8_q8grv")]
position = Vector2(752, 318)
curve = SubResource("Curve2D_r031e")

[node name="ParallaxBackground" type="ParallaxBackground" parent="."]

[node name="ParallaxLayer" type="ParallaxLayer" parent="ParallaxBackground"]
motion_mirroring = Vector2(960, 0)

[node name="Sprite2D" type="Sprite2D" parent="ParallaxBackground/ParallaxLayer"]
position = Vector2(742, 501)
scale = Vector2(4, 4)
texture = ExtResource("9_r031e")

[node name="ParallaxLayer2" type="ParallaxLayer" parent="ParallaxBackground"]
motion_mirroring = Vector2(960, 0)

[node name="Sprite2D" type="Sprite2D" parent="ParallaxBackground/ParallaxLayer2"]
position = Vector2(743, 500)
scale = Vector2(4, 4)
texture = ExtResource("10_8j4e5")

[node name="ParallaxLayer3" type="ParallaxLayer" parent="ParallaxBackground"]
motion_scale = Vector2(0.5, 0.1)
motion_mirroring = Vector2(960, 0)

[node name="Sprite2D" type="Sprite2D" parent="ParallaxBackground/ParallaxLayer3"]
position = Vector2(738, 499)
scale = Vector2(4, 4)
texture = ExtResource("11_frv1d")

[node name="ParallaxLayer4" type="ParallaxLayer" parent="ParallaxBackground"]
motion_mirroring = Vector2(960, 0)

[node name="Sprite2D" type="Sprite2D" parent="ParallaxBackground/ParallaxLayer4"]
position = Vector2(740, 501)
scale = Vector2(4, 4)
texture = ExtResource("12_5xhko")

[connection signal="enemy_defeated" from="Enemies/Starfish1" to="EnemyCounter" method="register_enemy_defeated"]
[connection signal="enemy_defeated" from="Enemies/Starfish2" to="EnemyCounter" method="register_enemy_defeated"]
[connection signal="enemy_defeated" from="Enemies/Crab1" to="EnemyCounter" method="register_enemy_defeated"]
